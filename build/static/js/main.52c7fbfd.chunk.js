(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{124:function(e,t,n){},165:function(e,t,n){},184:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},208:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),s=n.n(c),i=n(24),o=n.n(i),r=(n(165),n(16)),l=n(22),d=n.n(l),j=n(27),u=function(e){return null===e||""===e?"Unknown":e},h=n(32),p=n.n(h),b=n(21),m=(n(184),n(58)),O=n(218),f=n(221),x=n(215),g=function(e){var t=e.filterProfiles,n=Object(c.useState)(!1),s=Object(r.a)(n,2),i=s[0],o=s[1],l=Object(c.useState)({theyAre:"Male",theyLook:"Woman",relationshipStatus:"Single",ageFrom:18,ageTo:30,heightFrom:170,heightTo:200,weightFrom:50,weightTo:180}),d=Object(r.a)(l,2),j=d[0],u=d[1],h=[{label:"Male",value:"Male"},{label:"Woman",value:"Woman"},{label:"Other",value:"Other"}];return Object(a.jsxs)("div",{children:[Object(a.jsx)(m.a,{type:"primary",onClick:function(){o(!0)},children:"Select Filters"}),Object(a.jsx)(O.a,{title:"Please check all fields!",visible:i,okButtonProps:{style:{display:"none"}},onCancel:function(){o(!1)},children:Object(a.jsxs)("div",{className:"filtersGroup",children:[Object(a.jsx)("p",{children:"Choose profiles genre"}),Object(a.jsx)(f.a.Group,{options:h,onChange:function(e){u(Object(b.a)(Object(b.a)({},j),{},{theyAre:e.target.value}))},value:j.theyAre,optionType:"button"}),Object(a.jsx)("p",{children:"They are in to?"}),Object(a.jsx)(f.a.Group,{options:h,onChange:function(e){u(Object(b.a)(Object(b.a)({},j),{},{theyLook:e.target.value}))},value:j.theyLook,optionType:"button"}),Object(a.jsx)("p",{children:"Their relationship status?"}),Object(a.jsx)(f.a.Group,{options:[{label:"Single",value:"Single"},{label:"In relationship",value:"In relationship"},{label:"Married",value:"Married"},{label:"Other",value:"Other"}],onChange:function(e){u(Object(b.a)(Object(b.a)({},j),{},{relationshipStatus:e.target.value}))},value:j.relationshipStatus,optionType:"button"}),Object(a.jsx)("p",{children:"Age Range"}),Object(a.jsx)(x.a,{min:18,range:!0,defaultValue:[j.ageFrom,j.ageTo],onChange:function(e){u(Object(b.a)(Object(b.a)({},j),{},{ageFrom:e[0],ageTo:e[1]}))}}),Object(a.jsx)("p",{children:"Height Range(cm) "}),Object(a.jsx)(x.a,{max:200,min:150,range:!0,defaultValue:[j.heightFrom,j.heightTo],onChange:function(e){u(Object(b.a)(Object(b.a)({},j),{},{heightFrom:e[0],heightTo:e[1]}))}}),Object(a.jsx)("p",{children:"Weight Range(kg)"}),Object(a.jsx)(x.a,{max:200,min:40,range:!0,defaultValue:[j.weightFrom,j.weightTo],onChange:function(e){u(Object(b.a)(Object(b.a)({},j),{},{heightFrom:e[0],heightTo:e[1]}))}}),Object(a.jsx)(m.a,{type:"primary",onClick:function(){t(j),o(!1)},children:"Submit Filters"})]})})]})},y=n(219),v=n(210),w=n(220),C=function(){var e=y.a.Meta,t=Object(c.useState)([]),n=Object(r.a)(t,2),s=n[0],i=n[1],o=Object(c.useState)(!1),l=Object(r.a)(o,2),h=l[0],b=l[1],O=Object(c.useState)(!1),f=Object(r.a)(O,2),x=f[0],C=f[1],S=Object(c.useState)(""),T=Object(r.a)(S,2),k=T[0],N=T[1];Object(c.useEffect)((function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/profiles/allprofiles"}).then((function(e){i(e.data)})).catch((function(e){console.log(e)}))}),[x]);var E=function(e){d()({method:"POST",headers:{"Content-Type":"application/json"},data:e,withCredentials:!0,url:"https://dateappeldate.herokuapp.com/profiles/filterProfile"}).then((function(e){200===e.status&&(b(!0),e.data.data.length||N("No results found with this filter!"),i(e.data.data))})).catch((function(e){console.log(e)}))},_=function(){C(!x),b(!1)};return s.length?Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:window.innerWidth<=768?"flex-end":"flex-start",width:"100%",marginBottom:"10px",borderBottom:"1px solid #ccc",paddingBottom:"5px"},children:[Object(a.jsx)(g,{filterProfiles:E}),h&&Object(a.jsxs)(m.a,{style:{marginLeft:"5px"},onClick:_,children:[" ","X Remove Filters"]})]}),Object(a.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",maxHeight:"80vh",margin:"0 auto",overflowY:"scroll"},children:s.map((function(t,n){return Object(a.jsx)("div",{style:{margin:"5px"},children:Object(a.jsx)(j.b,{to:"/allprofiles/".concat(t.profile_id),children:Object(a.jsx)(y.a,{hoverable:!0,style:{width:window.innerWidth<=768?150:200,padding:"15px"},cover:Object(a.jsx)(w.a,{style:{border:"1px solid #003a8c"},size:window.innerWidth<=768?120:180,src:t.images.length?t.images[0]:"https://www.pngitem.com/pimgs/m/581-5813504_avatar-dummy-png-transparent-png.png"}),children:Object(a.jsx)(e,{title:Object(a.jsxs)("div",{style:{fontSize:window.innerWidth<=768?"12px":""},children:[t.nickname?t.nickname:t.fullname,",",Object(a.jsx)("p",{style:{fontSize:"12px",color:"#ccc"},children:p()(t.age,"YYYYMMDD").fromNow(!0)})]}),description:u(t.city)})})})},n)}))})]}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:"100%",marginBottom:"10px",borderBottom:"1px solid #ccc",paddingBottom:"5px"},children:[Object(a.jsx)(g,{filterProfiles:E}),h&&Object(a.jsxs)(m.a,{style:{marginLeft:"5px"},onClick:_,children:[" ","X Remove Filters"]})]}),Object(a.jsx)(v.a,{size:"large"}),Object(a.jsx)("span",{style:{color:"red"},children:k&&k})]})},S=n(31),T=n(44),k=n(23),N=n(222),E=function(e){var t=e.sendTo,n=Object(k.b)(),s=Object(S.h)(),i=Object(S.g)(),o=Object(k.c)((function(e){return e.conversationReducer})),l=Object(k.c)((function(e){return e.myProfileReducer})),j=Object(c.useState)({text:""}),u=Object(r.a)(j,2),h=u[0],p=u[1],O=function(e){p({text:""}),e.preventDefault(),d()({method:"POST",headers:{"Content-Type":"application/json"},data:{text:h.text},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/chat/startconversation/".concat(t)}).then((function(e){f(e.data.data[0]),(s.pathname.includes("/allprofiles/")||s.pathname.includes("/mymatches"))&&(n({type:"CHANGE_CONVERSATION_ID",action:Number(e.data.data[0].conversation_id)}),i.push("/mymessages"))})).catch((function(e){console.log(e)}))},f=function(e){d()({method:"POST",headers:{"Content-Type":"application/json"},data:{message:e.message,conversationID:s.pathname.includes("/allprofiles/")?e.conversation_id:o,chatimage:l.images[0]?l.images[0]:"https://www.pngitem.com/pimgs/m/581-5813504_avatar-dummy-png-transparent-png.png",fullname:l.fullname},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/chat/message/send"}).then((function(e){})).catch((function(e){console.log(e)}))};return Object(a.jsx)("div",{style:{marginTop:"15px"},children:Object(a.jsxs)("form",{onSubmit:O,children:[Object(a.jsx)(N.a,{style:{width:"80%"},placeholder:"Write a message",type:"text",name:"text",value:h.text,onChange:function(e){p(Object(b.a)(Object(b.a)({},h),{},Object(T.a)({},e.target.name,e.target.value)))}}),Object(a.jsx)(m.a,{disabled:""===h.text,type:"primary",onClick:O,children:"Send"})]})})},_=(n(96),n(198),n(213)),I=n(223),P=n(224),R=n(225),D=n(226),G=n(227),F=n(228),M=n(229),A=function(){var e=Object(S.g)(),t=Object(k.c)((function(e){return e.myConversations})),n=Object(k.c)((function(e){return e.conversationReducer})),s=Object(k.b)(),i=Object(c.useState)(!1),o=Object(r.a)(i,2),l=o[0],j=o[1],h=Object(S.i)(),b=Object(c.useState)([]),f=Object(r.a)(b,2),x=f[0],g=f[1];Object(c.useEffect)((function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/profiles/allprofiles/".concat(h.id)}).then((function(e){200===e.status&&(g(e.data),function(e){var n=t.filter((function(t){return t.user_id===e[0].userlog_id}));n.length?s({type:"CHANGE_CONVERSATION_ID",action:n[0].conversation_id}):s({type:"CHANGE_CONVERSATION_ID",action:null})}(e.data))})).catch((function(e){console.log(e)}))}),[h.id,s,t]);var y=Object(c.useState)(!1),w=Object(r.a)(y,2),C=w[0],T=w[1];return x.length?Object(a.jsxs)("div",{className:"myGrid",children:[Object(a.jsxs)("div",{className:"imageGridEl",style:{display:"flex",flexDirection:"column",margin:"0 auto",justifyContent:"space-between",alignItems:"flex-start"},children:[Object(a.jsx)("div",{style:{borderBottom:"1px solid #E99AF2",padding:"15px"},children:Object(a.jsx)(_.a,{width:300,src:u(x[0].images[0])})}),Object(a.jsx)("div",{style:{borderBottom:"1px solid #E99AF2c",padding:"15px"},children:Object(a.jsx)(_.a.PreviewGroup,{children:x[0].album.length?x[0].album.map((function(e,t){return Object(a.jsx)(_.a,{width:75,height:75,src:e},e)})):"User hasnt added yet any album photos!"})})]}),Object(a.jsx)("div",{className:"descriptions",children:Object(a.jsxs)(I.b,{title:"Profile Info",layout:"vertical",bordered:!0,children:[Object(a.jsx)(I.b.Item,{label:"Nickname",children:u(x[0].nickname)}),Object(a.jsx)(I.b.Item,{label:"Name",children:u(x[0].fullname)}),Object(a.jsx)(I.b.Item,{label:"Age",children:p()(x[0].age,"YYYYMMDD").fromNow(!0)}),Object(a.jsx)(I.b.Item,{label:"City",span:2,children:u(x[0].city)}),Object(a.jsx)(I.b.Item,{label:"Country",children:u(x[0].country)}),Object(a.jsx)(I.b.Item,{label:"Genre",children:"Male"===x[0].sex?Object(a.jsxs)("span",{children:[Object(a.jsx)(D.a,{style:{color:"blue",fontSize:"18px",fontWeight:"700"}})," ","Male"]}):"Woman"===x[0].sex?Object(a.jsxs)("span",{children:[Object(a.jsx)(G.a,{style:{color:"#9e3571",fontSize:"18px",fontWeight:"700"}})," ","Woman"]}):"Other"}),Object(a.jsx)(I.b.Item,{label:"Weight",children:u(x[0].weight)}),Object(a.jsx)(I.b.Item,{label:"Height",children:u(x[0].height)}),Object(a.jsx)(I.b.Item,{label:"Interested in",span:3,children:x[0].searching}),Object(a.jsx)(I.b.Item,{label:"Status",span:3,children:Object(a.jsx)(P.a,{status:"single"===x[0].relationship?"success":"Married"===x[0].relationship||"In relationship"===x[0].relationship?"error":"Other"===x[0].relationship?"warning":"default",text:x[0].relationship})}),Object(a.jsx)(I.b.Item,{label:"About me",span:3,children:x[0].description})]})}),Object(a.jsxs)("div",{className:"buttonsBox",children:[Object(a.jsx)(m.a,{type:"primary",onClick:null===n?function(){j(!0)}:function(){e.push("/mymessages")},className:"btnCHatStart",icon:Object(a.jsx)(F.a,{style:{fontSize:"55px"}})}),Object(a.jsx)(m.a,{onClick:function(){return e=x[0].userlog_id,void d()({method:"POST",headers:{"Content-Type":"application/json"},data:{shown_user:e},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/matches/insertmatch"}).then((function(e){200===e.status&&T(!0)})).catch((function(e){console.log(e)}));var e},type:"primary",className:"btnMatchStart",icon:Object(a.jsx)(M.a,{style:{fontSize:"55px"}})}),Object(a.jsx)(O.a,{title:"Send a message if you wanta to start conversation with: ".concat(x[0].fullname),visible:l,okButtonProps:{style:{display:"none"}},onOk:function(){j(!1)},onCancel:function(){j(!1)},children:Object(a.jsx)(E,{sendTo:x[0].userlog_id})})]}),Object(a.jsx)("div",{children:C?Object(a.jsx)(R.a,{message:"Attempt to match success!",type:"success",showIcon:!0}):""})]}):Object(a.jsx)(v.a,{size:"large"})},W=n(56),Y=n(147),B=n.n(Y),L=n(71),z=n.n(L),H=function(e){var t=e.conversationID,n=e.sendTo,s=e.open,i=e.handleOpen,o=e.mymessages,l=Number(z.a.get("token")),j=Object(c.useState)([]),u=Object(r.a)(j,2),h=u[0],b=u[1],m=Object(c.useRef)(null);return Object(c.useEffect)((function(){m.current&&m.current.scrollIntoView({behavior:"smooth"})}),[h]),Object(c.useEffect)((function(){var e=new B.a("".concat("7e604b1a1362d6bb52e2"),{authEndpoint:"https://dateappeldate.herokuapp.com/chat/pusher/auth",cluster:"eu",encrypted:!0}).subscribe("private-"+t);return e.bind("messages",(function(e){b([].concat(Object(W.a)(h),[e]))})),function(){e.unbind_all(),e.unsubscribe()}}),[h,t]),Object(c.useEffect)((function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/chat/getmessages/".concat(null===t?o[0].conversation_id:t)}).then((function(e){b(e.data)})).catch((function(e){console.log(e.response.status),console.log(e.response.data)}))}),[t,s,o]),h.length?s?Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"thisAbsolut",style:{height:"750px",maxHeight:"800px",overflowY:"scroll",display:"flex",flexDirection:"column"},children:[h.map((function(e,t){return Object(a.jsxs)("div",{style:{display:"flex",width:"100%",alignSelf:e.sender_id===l?"flex-start":"flex-end",flexDirection:"column"},children:[Object(a.jsx)("div",{style:{width:"100%",margin:"0 auto",color:"grey",fontStyle:"italic",alignSelf:"center",justifySelf:"center"},children:p()(e.created_at).startOf("mm").fromNow()}),Object(a.jsx)("p",{style:{margin:"0",color:"grey",fontStyle:"italic",alignSelf:e.sender_id===l?"flex-start":"flex-end"},children:e.fullname}),Object(a.jsxs)("p",{style:{position:"relative",width:window.innerWidth<=768?"70%":"25%",margin:"5px",padding:"15px",borderRadius:"10px",alignSelf:e.sender_id===l?"flex-start":"flex-end",backgroundColor:e.sender_id===l?"#595959":"#E99AF2",color:"white"},children:[Object(a.jsx)(w.a,{size:25,style:{position:"absolute",top:0,left:-3,border:"1px solid white"},icon:Object(a.jsx)("img",{src:e.images[0],alt:"avatar",width:"150px"})}),e.message]})]},t)})),Object(a.jsx)("div",{ref:m})]}),Object(a.jsx)("div",{children:Object(a.jsx)(E,{sendTo:n})})]}):Object(a.jsx)("button",{onClick:i,children:"Open Chat"}):Object(a.jsx)("h1",{children:" Loading..."})},V=(n(199),n(128)),U=function(){var e=V.a.TabPane,t=Object(k.b)(),n=Object(k.c)((function(e){return e.myConversations})),s=Object(k.c)((function(e){return e.conversationReducer})),i=Object(k.c)((function(e){return e.myNotifications})),o=Object(c.useCallback)((function(e){t({type:"CHANGE_CONVERSATION_ID",action:Number(e)}),d()({method:"PUT",headers:{"Content-Type":"application/json"},data:{conversation_id:Number(e)},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/notifications/readmsgnotifications"}).then((function(e){})).catch((function(e){console.log(e)}))}),[t]);return Object(c.useEffect)((function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/chat/getmyconversations"}).then((function(e){t({type:"FETCH_MY_CONVERSATIONS",action:e.data})})).catch((function(e){console.log(e)}))}),[o,t]),n.length?Object(a.jsx)("div",{style:{width:"100%",margin:"0 auto",height:window.innerWidth<=768?"70%":"100%"},children:Object(a.jsx)(V.a,{onChange:o,defaultActiveKey:null===s?n[0].conversation_id:"".concat(s),tabPosition:window.innerWidth<=768?"top":"left",style:{margin:"0 auto",width:"100%",height:window.innerWidth<=768?"700px":"800px"},children:n.map((function(t,c){return Object(a.jsx)(e,{tab:Object(a.jsxs)("div",{className:"tabNames",children:[i.messages.filter((function(e){return e.conversation_id===t.conversation_id})).length?Object(a.jsx)(P.a,{count:Object(a.jsx)("div",{style:{color:"white",backgroundColor:"red",borderRadius:"100%",width:"25px",padding:"5px",margin:0,zIndex:3},children:i.messages.filter((function(e){return e.conversation_id===t.conversation_id})).length})}):"",Object(a.jsx)(w.a,{size:window.innerWidth<=768?25:75,style:{margin:"5px",borderRadius:"100%",border:s===t.conversation_id?"5px solid #E99AF2":"none"},icon:Object(a.jsx)("img",{src:t.images[0]?t.images[0]:"https://www.pngitem.com/pimgs/m/581-5813504_avatar-dummy-png-transparent-png.png",alt:"avatar",width:"150px"})}),Object(a.jsx)("p",{children:t.fullname})]}),disabled:28===c,style:{height:"800px"},children:Object(a.jsx)(H,{open:!0,conversationID:s,sendTo:t.user_id,mymessages:n})},t.conversation_id)}))})}):Object(a.jsx)("h1",{children:" No conversations found yet.."})},J=(n(200),n(214)),K=n(211),X=function(){var e=J.a.Title,t=J.a.Text,n=Object(k.c)((function(e){return e.myProfileReducer}));return Object(a.jsxs)("div",{children:[Object(a.jsx)(w.a,{style:{border:"1px solid #003a8c"},size:130,src:n.images.length?n.images[0]:"https://www.pngitem.com/pimgs/m/581-5813504_avatar-dummy-png-transparent-png.png"}),Object(a.jsx)(K.a,{style:{width:"80%"}}),Object(a.jsx)(t,{type:"secondary",children:"Logged in as"}),Object(a.jsx)(e,{style:{marginTop:"0"},level:4,children:n.fullname})]})},q=n(156),Q=n(74),Z=n(157),$=n(143),ee=function(){var e=Object(c.useState)({file:""}),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(k.c)((function(e){return e.myProfileReducer})),o=Object(c.useState)(!1),l=Object(r.a)(o,2),j=l[0],u=l[1],h=Object(c.useState)(i.images.length?i.images[0]:"https://www.pngitem.com/pimgs/m/581-5813504_avatar-dummy-png-transparent-png.png"),p=Object(r.a)(h,2),b=p[0],O=p[1],f=new $;f.append("profileImage",n.file[0]);var x=function(e){e.preventDefault(),u(!0),d()({method:"PUT",headers:{"Content-Type":"multipart/form-data"},data:f,withCredentials:!0,url:"https://dateappeldate.herokuapp.com/pictures/addprofilepicture"}).then((function(e){200===e.status&&(u(!1),O(e.data.data[0].images[0]),q.b.success("Profile picture changed!"),window.location.reload())})).catch((function(e){q.b.error("You can only upload JPG/PNG file!"),q.b.error("Image must smaller than 2MB!")}))};return Object(a.jsxs)("div",{style:{margin:"0 auto",width:"100%",display:"flex",flexDirection:window.innerWidth<=768?"column":"row",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #ccc",marginBottom:"25px",paddingBottom:"25px"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{style:{border:"1px solid #003a8c"},size:130,src:b})}),Object(a.jsxs)("form",{onSubmit:x,style:{width:"70%",border:"1px solid #ccc",padding:"5px",borderRadius:"5px",height:"70%",alignItems:"center",display:"flex",flexDirection:"row",marginTop:window.innerWidth<=768?"25px":""},children:[Object(a.jsx)("input",{type:"file",name:"profileImage",onChange:function(e){!function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||q.b.error("You can only upload JPG/PNG file!");var n=e.size/1024/1024<2;n||q.b.error("Image must smaller than 2MB!")}(e.target.files[0]),s({file:e.target.files})}}),Object(a.jsx)(m.a,{type:"primary",icon:j?Object(a.jsx)(Q.a,{}):Object(a.jsx)(Z.a,{}),onClick:x,children:"Upload"})]})]})},te=n(230),ne=n(231),ae=n(143),ce=function(){for(var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(!1),o=Object(r.a)(i,2),l=o[0],j=o[1],u=Object(c.useState)(!1),h=Object(r.a)(u,2),p=h[0],b=h[1],O=Object(c.useState)(!1),f=Object(r.a)(O,2),x=f[0],g=f[1],y=Object(c.useState)({file:""}),v=Object(r.a)(y,2),w=v[0],C=v[1],S=new ae,T=0,k=Object.keys(w.file);T<k.length;T++){var N=k[T];S.append("albumImage",w.file[N])}var E=function(e){e.preventDefault(),j(!0),d()({method:"POST",headers:{"Content-Type":"multipart/form-data"},data:S,withCredentials:!0,url:"https://dateappeldate.herokuapp.com/pictures/addtoalbum"}).then((function(e){200===e.status&&(j(!1),q.b.success("Sucsessfuly added !"))})).catch((function(e){console.log(e)}))};Object(c.useEffect)((function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/users/getmyalbum"}).then((function(e){200===e.status&&s(e.data.data.album)})).catch((function(e){console.log(e)}))}),[l,p,x]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{border:"1px solid #ccc",padding:"15px",marginBottom:"10px"},children:Object(a.jsxs)("form",{onSubmit:E,style:{display:"flex",justifyContent:"space-between"},children:[Object(a.jsx)("input",{type:"file",name:"albumImage",onChange:function(e){var t=e.target.files;Object(W.a)(t).map((function(e){return function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||q.b.error("You can only upload JPG/PNG file!");var n=e.size/1024/1024<2;n||q.b.error("Image must smaller than 2MB!");return t&&n}(e)})),C({file:e.target.files})},multiple:!0}),Object(a.jsx)(m.a,{type:"primary",icon:l?Object(a.jsx)(Q.a,{}):Object(a.jsx)(Z.a,{}),onClick:E,children:"Upload"})]})}),Object(a.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start"},children:Object(a.jsx)(_.a.PreviewGroup,{children:n.length&&null!=n?n.map((function(e,t){return Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"5px",width:window.innerWidth<=768?95:100},children:[Object(a.jsx)(_.a,{width:100,height:100,src:e})," ",Object(a.jsx)(m.a,{onClick:function(){return t=e,b(!0),void d()({method:"DELETE",headers:{"Content-Type":"application/json"},data:{deleteItem:t},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/pictures/deletealbumitem"}).then((function(e){200===e.status&&(b(!1),q.b.success("Sucsessfuly Deleted !"))})).catch((function(e){console.log(e)}));var t},style:{margin:"5px",borderRadius:"5px"},icon:p?Object(a.jsx)(Q.a,{}):Object(a.jsx)(te.a,{}),danger:!0,children:"delete"}),Object(a.jsx)(m.a,{onClick:function(){return t=e,g(!0),void d()({method:"PUT",headers:{"Content-Type":"application/json"},data:{profileItem:t},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/pictures/albumtoProfile"}).then((function(e){200===e.status&&(g(!1),q.b.success("Sucsessfuly added Profile Picture, refresh to see changes !"),window.location.reload())})).catch((function(e){console.log(e)}));var t},style:{borderRadius:"5px"},icon:p?Object(a.jsx)(Q.a,{}):Object(a.jsx)(ne.a,{}),type:"primary",children:"profile"})]},e)})):"You dont have any photos yet !"})})]})},se=n(216),ie=n(212),oe=n(232),re=function(){var e=Object(S.h)(),t=Object(S.g)(),n=se.a.Option,s=Object(c.useState)(1),i=Object(r.a)(s,2),o=i[0],l=i[1],j=V.a.TabPane,u=N.a.TextArea,h=Object(c.useState)("/updatemyprofile"===e.pathname),f=Object(r.a)(h,2),x=f[0],g=f[1],y=Object(k.b)(),v=Object(k.c)((function(e){return e.myProfileReducer})),w=Object(c.useState)([]),C=Object(r.a)(w,2),E=C[0],_=C[1],I=Object(c.useState)({fullname:v.fullname,nickname:v.nickname,description:v.description,sex:v.sex,phone:v.phone,relationship:v.relationship,searching:v.searching,height:v.height,weight:v.weight,city:v.city,country:v.country,age:v.age}),P=Object(r.a)(I,2),R=P[0],D=P[1];Object(c.useEffect)((function(){D({fullname:v.fullname,nickname:v.nickname,description:v.description,sex:v.sex,phone:v.phone,relationship:v.relationship,searching:v.searching,height:v.height,weight:v.weight,city:v.city,country:v.country,age:v.age}),_([])}),[v]);var G=function(e){D(Object(b.a)(Object(b.a)({},R),{},Object(T.a)({},e.target.name,e.target.value)))},F=function(n){n.preventDefault(),d()({method:"PUT",headers:{"Content-Type":"application/json"},data:{fullname:R.fullname,nickname:R.nickname,description:R.description,sex:R.sex,relationship:R.relationship,searching:R.searching,height:""===R.height?null:R.height,weight:""===R.weight?null:R.weight,city:R.city,country:R.country,age:""===R.age?null:R.age},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/users/updateprofile"}).then((function(n){200===n.status&&(y({type:"RE_TRIGGER"}),g(!1),"/updatemyprofile"===e.pathname&&t.push("/"))})).catch((function(e){console.log(e),_(e.response.data)}))},M=function(){g(!0)};return Object(a.jsxs)("div",{style:{marginTop:"25px"},children:[Object(a.jsx)(m.a,{type:"primary",onClick:M,className:"btnSettings",icon:Object(a.jsx)(oe.a,{style:{fontSize:"25px",cursor:"Pointer"}})}),Object(a.jsx)("p",{onClick:M,style:{color:"grey",fontWeight:"600",marginTop:"5px",cursor:"Pointer"},children:"Edit Profile"}),Object(a.jsx)(O.a,{title:"Fill the details and then Save changes!",visible:x,okButtonProps:{style:{display:"none"}},onOk:function(){g(!1)},onCancel:function(){g(!1)},children:Object(a.jsxs)(V.a,{defaultActiveKey:o,onChange:function(e){l(e)},children:[Object(a.jsxs)(j,{tab:"Profile Details",children:[Object(a.jsxs)("form",{onSubmit:F,style:{display:"flex",width:"80%",justifyContent:"space-between",flexDirection:"column"},children:[Object(a.jsxs)("label",{children:["Fullname",Object(a.jsx)(N.a,{placeholder:"First and Second name",type:"text",name:"fullname",value:R.fullname,onChange:G})]}),Object(a.jsxs)("label",{children:["Genre",Object(a.jsx)(N.a.Group,{compact:!0,children:Object(a.jsxs)(se.a,{style:{width:"100%"},name:"sex",placeholder:"First and Second name",defaultValue:R.sex,value:R.sex,onChange:function(e){D(Object(b.a)(Object(b.a)({},R),{},{sex:e}))},children:[Object(a.jsx)(n,{value:"Male",children:"Male"}),Object(a.jsx)(n,{value:"Woman",children:"Woman"}),Object(a.jsx)(n,{value:"Other",children:"Other"})]})})]}),Object(a.jsxs)("label",{children:["Nickname",Object(a.jsx)(N.a,{type:"text",name:"nickname",value:R.nickname,onChange:G})]}),Object(a.jsxs)("label",{children:["About me",Object(a.jsx)(u,{type:"text",name:"description",value:R.description,onChange:G})]}),Object(a.jsxs)("label",{children:["Relationship",Object(a.jsx)(N.a.Group,{compact:!0,children:Object(a.jsxs)(se.a,{style:{width:"100%"},name:"relationship",placeholder:"Relationship status",defaultValue:R.relationship,value:R.relationship,onChange:function(e){D(Object(b.a)(Object(b.a)({},R),{},{relationship:e}))},children:[Object(a.jsx)(n,{value:"Single",children:"Single"}),Object(a.jsx)(n,{value:"In relationship",children:"In relationship"}),Object(a.jsx)(n,{value:"Married",children:"Married"}),Object(a.jsx)(n,{value:"Other",children:"Other"})]})})]}),Object(a.jsxs)("label",{children:["Interested in",Object(a.jsx)(N.a.Group,{compact:!0,children:Object(a.jsxs)(se.a,{style:{width:"100%"},name:"searching",placeholder:"Looking for ....",defaultValue:R.searching,value:R.searching,onChange:function(e){D(Object(b.a)(Object(b.a)({},R),{},{searching:e}))},children:[Object(a.jsx)(n,{value:"Male",children:"Male"}),Object(a.jsx)(n,{value:"Woman",children:"Woman"}),Object(a.jsx)(n,{value:"Other",children:"Other"})]})})]}),Object(a.jsxs)("label",{children:["Height",Object(a.jsx)(N.a,{type:"text",name:"height",value:R.height,onChange:G})]}),Object(a.jsxs)("label",{children:["Weight",Object(a.jsx)(N.a,{type:"text",name:"weight",value:R.weight,onChange:G})]}),Object(a.jsxs)("label",{children:["City",Object(a.jsx)(N.a,{type:"text",name:"city",value:R.city,onChange:G})]}),Object(a.jsxs)("label",{children:["Country",Object(a.jsx)(N.a,{type:"text",name:"country",value:R.country,onChange:G})]}),Object(a.jsxs)("label",{children:["Year when im born",Object(a.jsxs)("p",{children:["Your current age:"," ",p()(v.age,"YYYYMMDD").fromNow(!0)]}),Object(a.jsx)(ie.a,{type:"date",name:"age",onChange:function(e){return D(Object(b.a)(Object(b.a)({},R),{},{age:p()(e).format("YYYY-MM-DD")}))}})]}),Object(a.jsx)(m.a,{type:"submit",value:"Save",className:"btnsave",onClick:F,children:"Save"})]}),E.errors&&E.errors.map((function(e,t){return Object(a.jsxs)("div",{style:{color:"red"},children:[e.param," : ",e.msg]},t)}))]},"1"),Object(a.jsx)(j,{tab:"Pictures managment",children:Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(a.jsx)("h2",{style:{textAlign:"center"},children:"Profile Picture"}),Object(a.jsx)(ee,{}),Object(a.jsx)("h2",{style:{textAlign:"center"},children:"Albums Photo"}),Object(a.jsx)(ce,{})]})},"2")]})})]})},le=n(233),de=n(158),je=n(234),ue=n(235),he=function(e){var t=e.closeNav,n=Object(k.b)(),s=Object(S.g)(),i=Object(c.useState)({email:"",password:""}),o=Object(r.a)(i,2),l=o[0],u=o[1],h=Object(c.useState)(""),p=Object(r.a)(h,2),O=p[0],f=p[1],x=function(e){u(Object(b.a)(Object(b.a)({},l),{},Object(T.a)({},e.target.name,e.target.value)))},g=function(e){e.preventDefault(),d()({method:"POST",headers:{"Content-Type":"application/json"},data:{email:l.email,password:l.password},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/users/login"}).then((function(e){200===e.status&&(n({type:"CHECK_IF_LOGGED_IN",action:!0}),n({type:"RE_TRIGGER"}),f(""),s.push("/"))})).catch((function(e){e.response.data.message?f(e.response.data.message):e.response.data.errors[0].msg&&f(e.response.data.errors[0].msg),console.log(e)}))};return Object(a.jsxs)("div",{style:{width:"80%",textAlign:"left",marginTop:window.innerWidth<=768?"100px":""},children:[Object(a.jsxs)("form",{onSubmit:g,children:[Object(a.jsxs)("label",{children:["Email:",Object(a.jsx)(N.a,{style:{borderRadius:"15px"},placeholder:"Your login email",type:"text",name:"email",value:l.email,onChange:x})]}),Object(a.jsxs)("label",{children:["Password:",Object(a.jsx)(N.a.Password,{placeholder:"Write password",style:{borderRadius:"15px"},iconRender:function(e){return e?Object(a.jsx)(le.a,{}):Object(a.jsx)(de.a,{})},type:"text",name:"password",value:l.password,onChange:x})]}),O&&Object(a.jsx)("p",{style:{color:"red"},children:O})]}),Object(a.jsxs)("div",{style:{margin:"5px"},children:[Object(a.jsx)(m.a,{icon:Object(a.jsx)(je.a,{}),className:"loginBtn",onClick:g,children:"Log in"}),Object(a.jsx)(m.a,{icon:Object(a.jsx)(ue.a,{}),className:"facebookBtn",onClick:function(){window.location="https://dateappeldate.herokuapp.com/users/auth/facebook"},children:"Facebook login"}),Object(a.jsxs)("div",{style:{textAlign:"center"},children:[Object(a.jsxs)("span",{className:"register",children:[" ",Object(a.jsx)(j.b,{to:"/register",style:{color:"black"},onClick:t,children:"Register/"})]})," ",Object(a.jsxs)("span",{className:"register",children:[" ",Object(a.jsx)(j.b,{to:"/forgotpassword",style:{color:"black"},onClick:t,children:"Forgot Password?"})]})]})]})]})},pe=n(236),be=n(237),me=n(238),Oe=function(e){var t=e.closeNav,n=Object(k.b)(),s=Object(k.c)((function(e){return e.myNotifications})),i=Object(k.c)((function(e){return e.conversationReducer}));return Object(c.useEffect)((function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/notifications/getmsgnotifications"}).then((function(e){200===e.status&&n({type:"MESSAGE_NOTIFICATIONS",action:e.data})})).catch((function(e){console.log(e)}))}),[n,i]),Object(a.jsxs)("div",{className:"notifications",children:[Object(a.jsx)(j.b,{to:"/mymatches",onClick:t,children:Object(a.jsx)(P.a,{count:Object(a.jsx)(pe.a,{style:{color:"white",backgroundColor:"red",borderRadius:"100%",padding:"5px"}}),children:Object(a.jsx)(be.a,{style:{fontSize:"40px"}})})}),Object(a.jsx)(j.b,{to:"/mymessages",onClick:t,children:Object(a.jsx)(P.a,{count:s.messages.length?Object(a.jsx)("div",{style:{color:"white",backgroundColor:"red",borderRadius:"100%",width:"25px",padding:"5px",margin:0},children:s.messages.length}):"",children:Object(a.jsx)(me.a,{style:{fontSize:"40px"}})})})]})},fe=n(90),xe=n(239),ge=n(240),ye=n(241),ve=function(e){var t=Number(z.a.get("token")),n=Object(k.b)(),s=Object(k.c)((function(e){return e.AmiLogged})),i=Object(k.c)((function(e){return e.toggleTriggerFetchs})),o=Object(S.g)(),l=Object(c.useState)(!1),u=Object(r.a)(l,2),h=u[0],p=u[1];Object(c.useEffect)((function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/getcookie"}).then((function(e){200===e.status&&n({type:"CHECK_IF_LOGGED_IN",action:!0})})).catch((function(e){console.log(e)}))}),[i,n]),Object(c.useEffect)((function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/users/getuser"}).then((function(e){200===e.status&&n({type:"FETCH_MY_PROFILE",action:e.data.profile})})).catch((function(e){console.log(e)}))}),[t,i,n]),Object(c.useEffect)((function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/chat/getmyconversations"}).then((function(e){n({type:"FETCH_MY_CONVERSATIONS",action:e.data})})).catch((function(e){console.log(e)}))}),[n,t,i]);var b=function(){p(!h)};return Object(a.jsxs)("div",{className:"LayoutBackgorund",children:[Object(a.jsx)("div",{className:"btnToggle",onClick:function(){return p(!h)},children:h?Object(a.jsx)(fe.a,{}):Object(a.jsx)(xe.a,{})}),Object(a.jsxs)("div",{className:"transperantBackground",children:[Object(a.jsxs)("div",{className:"leftMenu",style:window.innerWidth<=768?{display:h?"flex":"none"}:{},children:[s?Object(a.jsxs)("div",{children:[Object(a.jsx)(X,{}),Object(a.jsx)(Oe,{closeNav:b})]}):Object(a.jsx)(he,{closeNav:b}),Object(a.jsx)("div",{className:"Menu",children:Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{className:"navigator",children:[Object(a.jsxs)(j.b,{onClick:function(){return p(!h)},style:{color:"white"},to:"/",children:[Object(a.jsx)(ge.a,{}),"Home"]}),Object(a.jsxs)(j.b,{onClick:function(){return p(!h)},style:{color:"white"},to:"/allprofiles",children:[Object(a.jsx)(ye.a,{}),"Profiles"]}),Object(a.jsxs)(j.b,{onClick:function(){return p(!h)},style:{color:"white"},to:"/matchme",children:[Object(a.jsx)(be.a,{}),"Match"]}),Object(a.jsxs)(j.b,{onClick:function(){return p(!h)},style:{color:"white"},to:"/mymessages",children:[Object(a.jsx)(me.a,{}),"Messages"]})]})})}),s&&Object(a.jsxs)("div",{children:[Object(a.jsx)(re,{}),Object(a.jsx)("p",{style:{marginTop:"0"},onClick:function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/users/logout"}).then((function(e){200===e.status&&(n({type:"RESET_PROFILE"}),n({type:"CHECK_IF_LOGGED_IN",action:!1}),n({type:"RE_TRIGGER"}),z.a.remove("token"),o.push("/"))}))},className:"logout",children:"Sign Out"})]})]}),Object(a.jsx)("div",{className:"rightMenu",children:e.children})]})]})},we=n(155),Ce=function(e){var t=e.component,n=Object(we.a)(e,["component"]),c=Object(k.c)((function(e){return e.AmiLogged}));return Object(a.jsx)(S.b,Object(b.a)(Object(b.a)({},n),{},{render:function(e){return c?Object(a.jsx)(t,Object(b.a)({},e)):Object(a.jsx)(S.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Se=(n(124),function(){var e=Object(k.b)(),t=Object(S.g)(),n=Object(c.useState)([]),s=Object(r.a)(n,2),i=s[0],o=s[1],l=Object(c.useState)({email:"",password:"",passwordConfirmation:"",username:"",age:""}),j=Object(r.a)(l,2),u=j[0],h=j[1],m=function(e){h(Object(b.a)(Object(b.a)({},u),{},Object(T.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)("div",{style:{margin:"0 auto",height:"700px",width:"100%"},children:[Object(a.jsxs)("form",{onSubmit:function(n){n.preventDefault(),d()({method:"POST",headers:{"Content-Type":"application/json"},data:{email:u.email,password:u.password,passwordConfirmation:u.passwordConfirmation,username:u.username,age:u.age},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/users/newuser"}).then((function(n){200===n.status&&(h({email:"",password:"",passwordConfirmation:"",username:"",age:""}),e({type:"CHECK_IF_LOGGED_IN",action:!0}),e({type:"RE_TRIGGER"}),o([]),t.push("/updatemyprofile"))})).catch((function(e){console.log(e),o(e.response.data.errors)}))},className:"regForm ",children:[Object(a.jsxs)("label",{children:["email",Object(a.jsx)(N.a,{placeholder:"Email adress",type:"text",name:"email",value:u.email,onChange:m})]}),Object(a.jsxs)("label",{children:["Full name",Object(a.jsx)(N.a,{placeholder:"First and Second name",type:"text",name:"username",value:u.username,onChange:m})]}),Object(a.jsxs)("label",{children:["Password",Object(a.jsx)(N.a.Password,{placeholder:"password",type:"text",name:"password",value:u.password,onChange:m})]}),Object(a.jsxs)("label",{children:["Confirm password",Object(a.jsx)(N.a.Password,{placeholder:"Confirm password",type:"text",name:"passwordConfirmation",value:u.passwordConfirmation,onChange:m})]}),Object(a.jsxs)("label",{style:{display:"flex",flexDirection:"column"},children:["What year are you born?",Object(a.jsx)(ie.a,{placeholder:"What year are you born..",type:"date",name:"age",onChange:function(e){return h(Object(b.a)(Object(b.a)({},u),{},{age:p()(e).format("YYYY-MM-DD")}))}})]}),Object(a.jsx)("input",{type:"submit",value:"Submit"})]}),i.length?i.map((function(e,t){return Object(a.jsxs)("p",{style:{color:"red"},children:[e.param," :",e.msg]},t)})):""]})}),Te=function(){return Object(a.jsxs)("div",{style:{margin:"0 auto"},children:[Object(a.jsx)("h1",{children:"Please update your profile, press the button to start!"}),Object(a.jsx)(re,{})]})},ke=function(){var e=Object(c.useState)({email:""}),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)([]),o=Object(r.a)(i,2),l=o[0],j=o[1],u=Object(c.useState)(""),h=Object(r.a)(u,2),p=h[0],m=h[1];return Object(a.jsxs)("div",{style:{margin:"0 auto",height:"200px",width:"100%"},children:[Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d()({method:"PUT",headers:{"Content-Type":"application/json"},data:{email:n.email},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/users/forgotpassword"}).then((function(e){200===e.status&&(j([]),m(e.data.message))})).catch((function(e){m(""),e.response.data.message?j(e.response.data.message):e.response.data.errors&&j(e.response.data.errors)}))},className:"regForm",children:[Object(a.jsxs)("label",{children:["Write your email adress:",Object(a.jsx)(N.a,{style:{borderRadius:"15px"},placeholder:"Your login email",type:"text",name:"email",value:n.email,onChange:function(e){s(Object(b.a)(Object(b.a)({},n),{},Object(T.a)({},e.target.name,e.target.value)))}})]}),Object(a.jsx)("input",{type:"submit",value:"Submit"})]}),l.length?l.map((function(e,t){return Object(a.jsxs)("p",{style:{color:"red"},children:[e.param," :",e.msg]},t)})):"",p?Object(a.jsx)("p",{style:{color:"green",fontWeight:"600",margin:"5px"},children:p}):""]})},Ne=function(){var e=Object(S.i)(),t=Object(c.useState)({password:"",passwordConfirmation:""}),n=Object(r.a)(t,2),s=n[0],i=n[1],o=Object(c.useState)([]),l=Object(r.a)(o,2),j=l[0],u=l[1],h=Object(c.useState)(""),p=Object(r.a)(h,2),m=p[0],O=p[1],f=function(e){i(Object(b.a)(Object(b.a)({},s),{},Object(T.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)("div",{style:{margin:"0 auto",height:"350px",width:"100%"},children:[Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),d()({method:"PUT",headers:{"Content-Type":"application/json"},data:{password:s.password,passwordConfirmation:s.passwordConfirmation},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/users/resetpassword/".concat(e.id)}).then((function(e){200===e.status&&(u([]),O(e.data.message))})).catch((function(e){O(""),e.response.data.message?u(e.response.data.message):e.response.data.errors&&u(e.response.data.errors)}))},className:"regForm",children:[Object(a.jsxs)("label",{children:["New Password",Object(a.jsx)(N.a.Password,{placeholder:"password",type:"text",name:"password",value:s.password,onChange:f})]}),Object(a.jsxs)("label",{children:["Confirm new password",Object(a.jsx)(N.a.Password,{placeholder:"Confirm password",type:"text",name:"passwordConfirmation",value:s.passwordConfirmation,onChange:f})]}),Object(a.jsx)("input",{type:"submit",value:"Save new password"})]}),j.length?j.map((function(e,t){return Object(a.jsxs)("p",{style:{color:"red"},children:[e.param," :",e.msg]},t)})):"",m?Object(a.jsx)("p",{style:{color:"green",fontWeight:"600",margin:"5px"},children:m}):""]})},Ee=n(150),_e=n.n(Ee),Ie=(n(205),n(242)),Pe=n(243),Re=n(244);var De=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)(n),l=Object(r.a)(o,2),j=l[0],u=l[1],h=Object(c.useState)(),b=Object(r.a)(h,2),O=b[0],f=b[1],x=Object(c.useState)(""),g=Object(r.a)(x,2),y=g[0],w=g[1],C=Object(c.useState)(!1),S=Object(r.a)(C,2),T=S[0],k=S[1];Object(c.useEffect)((function(){return d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/matches/profiles"}).then((function(e){i(e.data),u(e.data)})).catch((function(e){console.log(e)})),function(){}}),[T]);var N=function(e){d()({method:"POST",headers:{"Content-Type":"application/json"},data:{shown_user:e},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/matches/insertmatch"}).then((function(e){})).catch((function(e){console.log(e)}))},E=Object(c.useMemo)((function(){return Array(j.length).fill(0).map((function(e){return s.a.createRef()}))}),[j.length]),_=function(e,t){f(e);var n=Object(W.a)(j),a=Object(W.a)(j);a.splice(t,1),u(a),N(n[t].userlog_id),"right"===e&&w("".concat(n[t].fullname," Match request"))};return j.length?E.length<=1?Object(a.jsxs)("h1",{children:["Press here to start!",Object(a.jsx)(m.a,{onClick:function(){return k(!T)},children:"Start Again"})]}):Object(a.jsxs)("div",{className:"root",children:[Object(a.jsx)("div",{className:"cardContainer",children:j.map((function(e,t){return Object(a.jsxs)(_e.a,{ref:E[t],className:"swipe",onSwipe:function(t){return n=t,a=e.fullname,f(n),void("right"===n&&w("".concat(a," Match request")));var n,a},onCardLeftScreen:function(){return function(e,t){N(e);var n=Object(W.a)(j);n.splice(t,1),u(n)}(e.userlog_id,t)},children:[Object(a.jsx)("div",{style:{backgroundImage:"url(".concat(e.images.length?e.images[0]:"https://www.pngitem.com/pimgs/m/581-5813504_avatar-dummy-png-transparent-png.png",")")},className:"card",children:Object(a.jsxs)("h3",{style:{width:"100%",fontSize:"15px"},children:[e.fullname,",",p()(e.age,"YYYYMMDD").fromNow(!0),",",e.sex]})}),Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsxs)(m.a,{className:"swipeLeft",onClick:function(){return _("left",t)},children:[Object(a.jsx)(Ie.a,{onClick:function(){return _("left",t)},style:{fontSize:window.innerWidth<=768?"15px":"50px"}}),"NOT"]}),Object(a.jsxs)(m.a,{className:"swipeRight",onClick:function(){return _("right",t)},children:[Object(a.jsx)(Pe.a,{onClick:function(){return _("right",t)},style:{fontSize:window.innerWidth<=768?"15px":"50px"},spin:!0,twoToneColor:"#f1bcd9"}),"MATCH!"]})]})]},t)}))}),Object(a.jsx)("div",{style:{width:"100%",margin:"50px auto",padding:"25px",marginTop:window.innerWidth<=768?"80px":""},children:O?"right"===O?Object(a.jsx)("div",{children:Object(a.jsx)(R.a,{message:"".concat(y," :)"),type:"success",showIcon:!0})}):Object(a.jsx)(R.a,{message:"Not match :(",type:"error",showIcon:!0}):Object(a.jsx)("h2",{className:"infoText",children:"Swipe a card or press a button to get started!"})}),Object(a.jsxs)(m.a,{icon:Object(a.jsx)(Re.a,{}),className:"startmatchAgain",onClick:function(){return window.location.reload()},children:[" ","Start matching from beginning?"]})]}):Object(a.jsx)(v.a,{size:"large"})},Ge=n(217),Fe=(n(206),function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){return d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/profiles/latestprofile"}).then((function(e){console.log(e),200===e.status&&s(e.data)})).catch((function(e){console.log(e)})),function(){}}),[]),n.length?Object(a.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center",flexWrap:"wrap"},children:n.map((function(e,t){return Object(a.jsx)("div",{style:{margin:"0 auto"},children:Object(a.jsxs)(j.b,{to:"/allprofiles/".concat(e.profile_id),children:[Object(a.jsx)(w.a,{style:{border:"1px solid pink"},size:{xs:55,sm:22,md:32,lg:44,xl:50,xxl:80},src:e.images[0],alt:e.fullname}),Object(a.jsx)("p",{children:e.fullname})]})},t)}))}):Object(a.jsxs)("div",{style:{width:"100%",height:"300px",marign:"0 auto",display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",textAlign:"center"},children:[Object(a.jsx)(v.a,{size:"large"}),"Loading..."]})}),Me=n(245),Ae=function(){return Object(a.jsxs)("div",{className:"HomePageContainer",children:[Object(a.jsx)("div",{className:"carouselDIV",children:Object(a.jsxs)(Ge.a,{autoplay:!0,children:[Object(a.jsx)("div",{className:"contentStyle",children:Object(a.jsxs)("h1",{children:[Object(a.jsx)(M.a,{spin:!0,style:{color:"pink",marginBottom:"0"}}),"Join the community!"]})}),Object(a.jsx)("div",{className:"contentStyle",children:Object(a.jsxs)("h5",{children:["Search! Match! Date!"," ",Object(a.jsx)(M.a,{spin:!0,style:{color:"pink",marginBottom:"0"}})]})})]})}),Object(a.jsxs)("div",{className:"signUpNow",children:[Object(a.jsx)("h1",{children:"Join us now !"}),Object(a.jsx)("button",{children:Object(a.jsxs)(j.b,{to:"/register",children:[Object(a.jsx)(Me.a,{})," Sign up"," "]})})]}),Object(a.jsxs)("div",{className:"latestUsers",children:[Object(a.jsx)("h1",{children:"Newest members!"}),Object(a.jsx)(Fe,{})]})]})},We=function(e){var t=e.matchID,n=Object(c.useState)(null),s=Object(r.a)(n,2),i=s[0],o=s[1],l=Object(c.useState)(!1),u=Object(r.a)(l,2),h=u[0],p=u[1];Object(c.useEffect)((function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/profiles/allprofiles/".concat(t)}).then((function(e){200===e.status&&o(e.data)})).catch((function(e){console.log(e)}))}),[t]);return null===i?Object(a.jsx)(v.a,{size:"large"}):Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"row",width:window.innerWidth<=768?"95%":"80%",margin:"5px",border:"1px solid #ccc",padding:"15px",borderRadius:"10px"},children:[Object(a.jsx)(j.b,{to:"/allprofiles/".concat(i[0].profile_id),children:Object(a.jsxs)("div",{style:{flex:"3",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},children:[Object(a.jsx)(w.a,{style:{border:"1px solid #003a8c",marginRight:"10px"},size:180,src:i[0].images.length?i[0].images[0]:"https://www.pngitem.com/pimgs/m/581-5813504_avatar-dummy-png-transparent-png.png"}),Object(a.jsx)("h2",{style:{color:" #8bc6ec",fontWeight:700},children:i[0].fullname})]})}),Object(a.jsxs)("div",{className:"buttonsBox",style:{flex:1},children:[Object(a.jsx)(m.a,{type:"primary",onClick:function(){p(!0)},className:"btnCHatStart",icon:Object(a.jsx)(F.a,{style:{fontSize:"55px"}})}),Object(a.jsx)(O.a,{title:"Send a message if you wanta to start conversation with: ".concat(i[0].fullname),visible:h,okButtonProps:{style:{display:"none"}},onOk:function(){p(!1)},onCancel:function(){p(!1)},children:Object(a.jsx)(E,{sendTo:i[0].userlog_id})})]})]})},Ye=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){d()({method:"GET",headers:{"Content-Type":"application/json"},withCredentials:!0,url:"https://dateappeldate.herokuapp.com/matches/getmymatches"}).then((function(e){200===e.status&&s(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(a.jsx)("div",{style:{width:"100%",overflow:"hidden",display:"flex",flexDirection:window.innerWidth<=768?"column":"row",flexWrap:"flex-wrap",justifyContent:"flex-start",alignContent:"flex-start",alignItems:"flex-start"},children:n.map((function(e,t){return Object(a.jsx)(We,{matchID:e.profile_id},t)}))})};var Be=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(ve,{children:Object(a.jsxs)(S.d,{children:[Object(a.jsx)(S.b,{path:"/login",children:Object(a.jsxs)("div",{style:{margin:"0 auto"},children:[Object(a.jsx)("h1",{style:{color:"red"},children:"You need to log in to use this part"}),Object(a.jsx)(he,{})]})}),Object(a.jsx)(S.b,{path:"/register",children:Object(a.jsx)(Se,{})}),Object(a.jsx)(S.b,{path:"/forgotpassword",children:Object(a.jsx)(ke,{})}),Object(a.jsx)(S.b,{path:"/resetpassword/:id",children:Object(a.jsx)(Ne,{})}),Object(a.jsx)(Ce,{path:"/allprofiles/:id",component:A}),Object(a.jsx)(Ce,{exact:!0,path:"/allprofiles",component:C}),Object(a.jsx)(Ce,{exact:!0,path:"/matchme",component:De}),Object(a.jsx)(Ce,{exact:!0,path:"/mymatches",component:Ye}),Object(a.jsx)(Ce,{exact:!0,path:"/mymessages",component:U}),Object(a.jsx)(Ce,{path:"/updatemyprofile",component:Te}),Object(a.jsx)(S.b,{path:"/",children:Object(a.jsx)(Ae,{})})]})})})},Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,246)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},ze=n(83),He=function(e,t){return!t},Ve=function(e,t){return e.action},Ue=function(e,t){return e.action},Je=function(e,t){return e.action},Ke=function(e,t){console.log(e,"action"),console.log(t,"astaa");var n=Object(W.a)(t);return console.log(n,"cop"),n.push(e.action),t.push(e.action)},Xe=function(e,t){return e.action},qe=function(e,t){return Object(b.a)(Object(b.a)({},t),{},{messages:e.action})},Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MY_CONVERSATIONS":return Je(t);case"PUSH_TO_MY_CONVERSATIONS_NODB":return Ke(t,e);default:return e}},Ze=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RE_TRIGGER":return He(0,e);default:return e}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CONVERSATION_ID":return Ve(t);default:return e}},et={fullname:"",nickname:"",description:"",sex:"",relationship:"",searching:"",height:"",phone:"",weight:"",city:"",country:"",age:"",images:[]},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MY_PROFILE":return Ue(t);case"RESET_PROFILE":return{fullname:"",nickname:"",description:"",sex:"",relationship:"",searching:"",height:"",phone:"",weight:"",city:"",country:"",age:"",images:[]};default:return e}},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{messages:[],matches:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MESSAGE_NOTIFICATIONS":return qe(t,e);default:return e}},at=Number(z.a.get("token")),ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!!at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECK_IF_LOGGED_IN":return Xe(t);default:return e}},st=Object(ze.b)({myConversations:Qe,toggleTriggerFetchs:Ze,conversationReducer:$e,myProfileReducer:tt,AmiLogged:ct,myNotifications:nt}),it=Object(ze.c)(st,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(Object(a.jsx)(k.a,{store:it,children:Object(a.jsx)(j.a,{children:Object(a.jsx)(Be,{})})}),document.getElementById("root")),Le()}},[[208,1,2]]]);
//# sourceMappingURL=main.52c7fbfd.chunk.js.map